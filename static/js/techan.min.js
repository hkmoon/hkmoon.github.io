/*
 TechanJS v0.9.0-0
 (c) 2014 - 2020 Andre Dumas | https://github.com/andredumas/techan.js
*/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).techan=t()}}(function(){return function(){return function t(e,n,r){function o(c,i){if(!n[c]){if(!e[c]){var u="function"==typeof require&&require;if(!i&&u)return u(c,!0);if(a)return a(c,!0);var s=new Error("Cannot find module '"+c+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[c]={exports:{}};e[c][0].call(l.exports,function(t){return o(e[c][1][t]||t)},l,l.exports,t,e,n,r)}return n[c].exports}for(var a="function"==typeof require&&require,c=0;c<r.length;c++)o(r[c]);return o}}()({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.version=void 0;n.version="0.9.0-0"},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.adx=void 0;n.adx=function(){var t=function(t){return t.date},e=function(t){return t.adx},n=function(t){return t.plusDi},r=function(t){return t.minusDi};function o(t){return o.r(t)}function a(){return o.d=t,o.adx=e,o.plusDi=n,o.minusDi=r,o}return o.date=function(e){return arguments.length?(t=e,a()):t},o.adx=function(t){return arguments.length?(e=t,a()):e},o.plusDi=function(t){return arguments.length?(n=t,a()):n},o.minusDi=function(t){return arguments.length?(r=t,a()):r},a()}},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.aroon=void 0;n.aroon=function(){var t=function(t){return t.date},e=function(t){return t.up},n=function(t){return t.down},r=function(t){return t.oscillator},o=function(t){return t.overbought},a=function(t){return t.oversold},c=function(t){return t.middle};function i(t){return i.r(t)}function u(){return i.d=t,i.up=e,i.down=n,i.oscillator=r,i.ob=o,i.os=a,i.m=c,i}return i.date=function(e){return arguments.length?(t=e,u()):t},i.up=function(t){return arguments.length?(e=t,u()):e},i.down=function(t){return arguments.length?(n=t,u()):n},i.oscillator=function(t){return arguments.length?(r=t,u()):r},i.overbought=function(t){return arguments.length?(o=t,u()):o},i.oversold=function(t){return arguments.length?(a=t,u()):a},i.middle=function(t){return arguments.length?(c=t,u()):c},u()}},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.atrtrailingstop=void 0;n.atrtrailingstop=function(){var t=function(t){return t.date},e=function(t){return t.up},n=function(t){return t.down};function r(t){return r.up(t)}function o(){return r.d=t,r.up=e,r.dn=n,r}return r.date=function(e){return arguments.length?(t=e,o()):t},r.up=function(t){return arguments.length?(e=t,o()):e},r.down=function(t){return arguments.length?(n=t,o()):n},o()}},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bollinger=void 0;n.bollinger=function(){var t=function(t){return t.date},e=function(t){return t.middleBand},n=function(t){return t.upperBand},r=function(t){return t.lowerBand};function o(t){return o.r(t)}function a(){return o.d=t,o.middle=e,o.upper=n,o.lower=r,o}return o.date=function(e){return arguments.length?(t=e,a()):t},o.middle=function(t){return arguments.length?(e=t,a()):e},o.upper=function(t){return arguments.length?(n=t,a()):n},o.lower=function(t){return arguments.length?(r=t,a()):r},a()}},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.crosshair=void 0;n.crosshair=function(){var t=function(t,e){return arguments.length<2?t.x:(t.x=e,n)},e=function(t,e){return arguments.length<2?t.y:(t.y=e,n)};function n(t){return n.xv(t)}function r(){return n.xv=t,n.yv=e,n}return n.x=function(e){return arguments.length?(t=e,r()):t},n.y=function(t){return arguments.length?(e=t,r()):e},r()}},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ichimoku=void 0;n.ichimoku=function(){var t=function(t){return t.date},e=function(t){return t.tenkanSen},n=function(t){return t.kijunSen},r=function(t){return t.senkouSpanA},o=function(t){return t.senkouSpanB},a=function(t){return t.chikouSpan},c=function(t){return t.parameters.tenkanSen},i=function(t){return t.parameters.kijunSen},u=function(t){return t.parameters.senkouSpanB};function s(t){return s.ts(t)}function l(){return s.d=t,s.ts=e,s.ks=n,s.sa=r,s.sb=o,s.c=a,s.pts=c,s.pks=i,s.pssb=u,s}return s.date=function(e){return arguments.length?(t=e,l()):t},s.tenkanSen=function(t){return arguments.length?(e=t,l()):e},s.kijunSen=function(t){return arguments.length?(n=t,l()):n},s.senkouSpanA=function(t){return arguments.length?(r=t,l()):r},s.senkouSpanB=function(t){return arguments.length?(o=t,l()):o},s.chikouSpan=function(t){return arguments.length?(a=t,l()):a},s.ptenanSen=function(t){return arguments.length?(c=t,l()):c},s.pkijunSen=function(t){return arguments.length?(i=t,l()):i},s.psenkouSpanB=function(t){return arguments.length?(u=t,l()):u},l()}},{}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.accessors=void 0;var r=t("./atrtrailingstop"),o=t("./crosshair"),a=t("./ichimoku"),c=t("./macd"),i=t("./ohlc"),u=t("./rsi"),s=t("./trendline"),l=t("./value"),d=t("./volume"),f=t("./tick"),p=t("./trade"),h=t("./adx"),v=t("./aroon"),m=t("./stochastic"),g=t("./supstance"),y=t("./williams"),S=t("./bollinger");n.accessors=function(){return{atrtrailingstop:r.atrtrailingstop,crosshair:o.crosshair,ichimoku:a.ichimoku,macd:c.macd,ohlc:i.ohlc,rsi:u.rsi,trendline:s.trendline,value:l.value,volume:d.volume,tick:f.tick,trade:p.trade,adx:h.adx,aroon:v.aroon,stochastic:m.stochastic,supstance:g.supstance,williams:y.williams,bollinger:S.bollinger}}},{"./adx":2,"./aroon":3,"./atrtrailingstop":4,"./bollinger":5,"./crosshair":6,"./ichimoku":7,"./macd":9,"./ohlc":10,"./rsi":11,"./stochastic":12,"./supstance":13,"./tick":14,"./trade":15,"./trendline":16,"./value":17,"./volume":18,"./williams":19}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.macd=void 0;n.macd=function(){var t=function(t){return t.date},e=function(t){return t.macd},n=function(t){return t.zero},r=function(t){return t.signal},o=function(t){return t.difference};function a(t){return a.m(t)}function c(){return a.d=t,a.m=e,a.s=r,a.dif=o,a.z=n,a}return a.date=function(e){return arguments.length?(t=e,c()):t},a.macd=function(t){return arguments.length?(e=t,c()):e},a.signal=function(t){return arguments.length?(r=t,c()):r},a.difference=function(t){return arguments.length?(o=t,c()):o},c()}},{}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ohlc=void 0;n.ohlc=function(){var t=function(t){return t.date},e=function(t){return t.open},n=function(t){return t.high},r=function(t){return t.low},o=function(t){return t.close},a=function(t){return t.volume};function c(t){return c.c(t)}function i(){return c.d=t,c.o=e,c.h=n,c.l=r,c.c=o,c.v=a,c}return c.date=function(e){return arguments.length?(t=e,i()):t},c.open=function(t){return arguments.length?(e=t,i()):e},c.high=function(t){return arguments.length?(n=t,i()):n},c.low=function(t){return arguments.length?(r=t,i()):r},c.close=function(t){return arguments.length?(o=t,i()):o},c.volume=function(t){return arguments.length?(a=t,i()):a},i()}},{}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rsi=void 0;n.rsi=function(){var t=function(t){return t.date},e=function(t){return t.rsi},n=function(t){return t.overbought},r=function(t){return t.oversold},o=function(t){return t.middle};function a(t){return a.r(t)}function c(){return a.d=t,a.r=e,a.ob=n,a.os=r,a.m=o,a}return a.date=function(e){return arguments.length?(t=e,c()):t},a.rsi=function(t){return arguments.length?(e=t,c()):e},a.overbought=function(t){return arguments.length?(n=t,c()):n},a.oversold=function(t){return arguments.length?(r=t,c()):r},a.middle=function(t){return arguments.length?(o=t,c()):o},c()}},{}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stochastic=void 0;n.stochastic=function(){var t=function(t){return t.date},e=function(t){return t.stochasticK},n=function(t){return t.stochasticD},r=function(t){return t.overbought},o=function(t){return t.oversold};function a(t){return a.r(t)}function c(){return a.d=t,a.k=e,a.sd=n,a.ob=r,a.os=o,a}return a.date=function(e){return arguments.length?(t=e,c()):t},a.stochasticK=function(t){return arguments.length?(e=t,c()):e},a.stochasticD=function(t){return arguments.length?(n=t,c()):n},a.overbought=function(t){return arguments.length?(r=t,c()):r},a.oversold=function(t){return arguments.length?(o=t,c()):o},c()}},{}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.supstance=void 0;n.supstance=function(){var t=function(t){return t.start},e=function(t){return t.end},n=function(t,e){return arguments.length<2?t.value:(t.value=e,r)};function r(t){return r.v(t)}function o(){return r.s=t,r.e=e,r.v=n,r}return r.start=function(e){return arguments.length?(t=e,o()):t},r.end=function(t){return arguments.length?(e=t,o()):e},r.value=function(t){return arguments.length?(n=t,o()):n},o()}},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tick=void 0;n.tick=function(){var t=function(t){return t.date},e=function(t){return t.high},n=function(t){return t.low},r=function(t){return t.spread};function o(t){a()}function a(){return o.d=t,o.h=e,o.l=n,o.s=r,o}return o.date=function(e){return arguments.length?(t=e,a()):t},o.high=function(t){return arguments.length?(e=t,a()):e},o.low=function(t){return arguments.length?(n=t,a()):n},o.spread=function(t){return arguments.length?(r=t,a()):r},a()}},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.trade=void 0;n.trade=function(){var t=function(t){return t.date},e=function(t){return t.type},n=function(t){return t.price};function r(t){return r.p(t)}function o(){return r.d=t,r.t=e,r.p=n,r}return r.date=function(e){return arguments.length?(t=e,o()):t},r.type=function(t){return arguments.length?(e=t,o()):e},r.price=function(t){return arguments.length?(n=t,o()):n},o()}},{}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.trendline=void 0;n.trendline=function(){var t=function(t,e){if(arguments.length<2)return t.start.date;t.start.date=e},e=function(t,e){if(arguments.length<2)return t.start.value;t.start.value=e},n=function(t,e){if(arguments.length<2)return t.end.date;t.end.date=e},r=function(t,e){if(arguments.length<2)return t.end.value;t.end.value=e};function o(t){return o.sv(t)}function a(){return o.sd=t,o.sv=e,o.ed=n,o.ev=r,o}return o.startDate=function(e){return arguments.length?(t=e,a()):t},o.startValue=function(t){return arguments.length?(e=t,a()):e},o.endDate=function(t){return arguments.length?(n=t,a()):n},o.endValue=function(t){return arguments.length?(r=t,a()):r},a()}},{}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.value=void 0;n.value=function(){var t=function(t){return t.date},e=function(t,e){return arguments.length<2?t.value:(t.value=e,r)},n=function(t){return 0};function r(t){return r.v(t)}function o(){return r.d=t,r.v=e,r.z=n,r}return r.date=function(e){return arguments.length?(t=e,o()):t},r.value=function(t){return arguments.length?(e=t,o()):e},r.zero=function(t){return arguments.length?(n=t,o()):n},o()}},{}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.volume=void 0;n.volume=function(){var t=function(t){return t.date},e=function(t){return t.volume};function n(t){return n.v(t)}function r(){return n.d=t,n.v=e,n}return n.date=function(e){return arguments.length?(t=e,r()):t},n.volume=function(t){return arguments.length?(e=t,r()):e},r()}},{}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.williams=void 0;n.williams=function(){var t=function(t){return t.date},e=function(t){return t.williams};function n(t){return n.r(t)}function r(){return n.d=t,n.w=e,n}return n.date=function(e){return arguments.length?(t=e,r()):t},n.williams=function(t){return arguments.length?(e=t,r()):e},r()}},{}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.adx=void 0;function r(t,e,n,r){return n?{date:t,adx:e,plusDi:n,minusDi:r}:{date:t,adx:null,plusDi:null,minusDi:null}}n.adx=function(t,e,n,o){return function(){var a={};function c(e){var n=o().accessor(c.accessor()).period(a.period).init(),i=o().accessor(c.accessor()).period(a.period).init(),u=o().accessor(c.accessor()).period(a.period).init(),s=o().accessor(c.accessor()).period(a.period).init();return e.map(function(o,c){if(c<1)return r(a.accessor.d(o));var l=a.accessor.h(e[c])-a.accessor.h(e[c-1]),d=a.accessor.l(e[c-1])-a.accessor.l(e[c]),f=0;l>d&&l>0&&(f=l);var p=0;d>l&&d>0&&(p=d);var h=t([a.accessor.h(o)-a.accessor.l(o),Math.abs(a.accessor.h(o)-a.accessor.c(e[c-1])),Math.abs(a.accessor.l(o)-a.accessor.c(e[c-1]))]),v=n.average(f),m=i.average(p),g=u.average(h);if(c>a.period){var y=100*v/g,S=100*m/g,b=0;y-S!=0&&(b=Math.abs((y-S)/(y+S)));var x=100*s.average(b);return c>=2*a.period?r(a.accessor.d(o),x,y,S):r(a.accessor.d(o))}return r(a.accessor.d(o))}).filter(function(t){return t.adx})}return e(c,a).accessor(n()).period(14),c}}},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.aroon=void 0;function r(t,e,n,r,o,a,c){return e?{date:t,up:e,down:n,oscillator:r,middle:o,overbought:a,oversold:c}:{date:t,up:null,down:null,oscillator:null,middle:null,overbought:null,oversold:null}}n.aroon=function(t,e){return function(){var n={},o=70,a=0,c=30;function i(t){return t.map(function(e,i){if(i>=n.period-1){for(var u=0,s=0,l=1e4,d=0,f=0;f<n.period;f++)n.accessor.h(t[i-f])>u&&(u=n.accessor.h(t[i-f]),s=f),n.accessor.l(t[i-f])<l&&(l=n.accessor.l(t[i-f]),d=f);var p=(n.period-s)/n.period*100,h=(n.period-d)/n.period*100,v=p-h;return r(n.accessor.d(e),p,h,v,a,o,c)}return r(n.accessor.d(e))}).filter(function(t){return t.up})}return i.overbought=function(t){return arguments.length?(o=t,i):o},i.middle=function(t){return arguments.length?(a=t,i):a},i.oversold=function(t){return arguments.length?(c=t,i):c},t(i,n).accessor(e()).period(20),i}}},{}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.atr_init=void 0;function r(t,e){return e?{date:t,value:e}:{date:t,value:null}}n.atr_init=function(t,e,n){return function(){var o={},a=n(),c=null,i=0,u=0;function s(t){return s.init(),t.map(function(t,e){var n=s.atr(t);return e>=o.period?r(o.accessor.d(t),n):r(o.accessor.d(t))}).filter(function(t){return null!==t.value})}return s.init=function(){return a.accessor(s.accessor()).period(o.period).init(),c=null,i=0,u=0,s},s.atr=function(t){var e=null===c?o.accessor.h(t)-o.accessor.l(t):Math.max(o.accessor.h(t)-o.accessor.l(t),Math.abs(o.accessor.h(t)-o.accessor.c(c)),Math.abs(o.accessor.l(t)-o.accessor.c(c)));return c=t,i=u++<=o.period?a.average(e):(i*(o.period-1)+e)/o.period},t(s,o).accessor(e()).period(14),s}}},{}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.atrtrailingstop=void 0;n.atrtrailingstop=function(t,e,n){return function(){var r={},o=3,a=n();function c(t){return a.accessor(r.accessor).period(r.period).init(),t.map(function(t,e){var n=r.accessor.c(t),c=a.atr(t)*o;return e>=r.period?{date:r.accessor.d(t),close:n,up:n-c,down:n+c}:{date:r.accessor.d(t),up:null,down:null}}).filter(function(t){return null!==t.up&&null!==t.down}).reduce(function(t,e,n){var r=t[n-1],o=0===n?e.up:null,a=null;return r&&null!==r.up&&(e.close>r.up?o=Math.max(e.up,r.up):a=e.down),r&&null!==r.down&&(e.close<r.down?a=Math.min(e.down,r.down):o=e.up),t.push({date:e.date,up:o,down:a}),t},[])}return c.multiplier=function(t){return arguments.length?(o=t,c):o},t(c,r).accessor(e()).period(14),c}}},{}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bollinger=void 0;function r(t,e,n,r){return e?{date:t,middleBand:e,upperBand:n,lowerBand:r}:{date:t,middleBand:null,upperBand:null,lowerBand:null}}n.bollinger=function(t,e,n){return function(){var o,a={},c=2;function i(t){var e,u=n().accessor(i.accessor()).period(a.period).init();return t.map(function(n,i){var s=u.average(a.accessor(n));if(i>=a.period){var l=0;for(e=0;e<a.period;e++)l+=Math.pow(a.accessor.c(t[i-e])-s,2);o=Math.sqrt(l/a.period);var d=s+c*o,f=s-c*o;return r(a.accessor.d(n),s,d,f)}return r(a.accessor.d(n))}).filter(function(t){return t.middleBand})}return i.sdMultiplication=function(t){return arguments.length?(c=t,i):c},t(i,a).accessor(e()).period(20),i}}},{}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ema_init=void 0;n.ema_init=function(t,e,n){return function(){var r,o,a,c,i={};function u(t){return u.init(),t.map(s).filter(function(t){return null!==t.value})}function s(t,e){var n=u.average(i.accessor(t));return e+1<i.period&&(n=null),{date:i.accessor.d(t),value:n}}return u.init=function(){return r=null,o=n(i.period),a=0,c=0,u},u.average=function(t){return c<i.period?r=(a+=t)/++c:r+=o*(t-r)},t(u,i).accessor(e()).period(10),u}}},{}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.heikinashi=void 0;n.heikinashi=function(t,e,n,r){return function(){var o={};function a(t){var e;return t.map(function(t){var a={date:o.accessor.d(t),open:(void 0===e?o.accessor.o(t)+o.accessor.c(t):e.open+e.close)/2,close:(o.accessor.o(t)+o.accessor.h(t)+o.accessor.l(t)+o.accessor.c(t))/4};return a.high=r([a.open,a.close,o.accessor.h(t)]),a.low=n([a.open,a.close,o.accessor.l(t)]),void 0!==o.accessor.v&&void 0!==o.accessor.v(t)&&(a.volume=o.accessor.v(t)),e=a})}return t(a,o).accessor(e()),a}}},{}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ichimoku=void 0;function r(t,e){return(t+e)/2}n.ichimoku=function(t,e){return function(){var n={},o=9,a=26,c=52;function i(t){for(var e={tenkanSen:o,kijunSen:a,senkouSpanB:c},n=new Array(t.length),r=n.length-1;r>=0;r--)n[r]=u(e,t,r);return n}function u(t,e,o){for(var a,c,i=e[o],u=n.accessor.l(i),s=n.accessor.h(i),l=function(t,e,n){return{parameters:t,date:e,chikouSpan:n,tenkanSen:null,kijunSen:null,senkouSpanA:null,senkouSpanB:null}}(t,n.accessor.d(i),n.accessor.c(i)),d=0,f=d+1;d<t.senkouSpanB&&o-d>=0;f=++d+1)i=e[o-d],u=Math.min(u,n.accessor.l(i)),s=Math.max(s,n.accessor.h(i)),l.tenkanSen=f===t.tenkanSen?r(u,s):l.tenkanSen,l.kijunSen=f===t.kijunSen?r(u,s):l.kijunSen,l.senkouSpanB=f===t.senkouSpanB?r(u,s):l.senkouSpanB;return l.senkouSpanA=(a=l.tenkanSen,c=l.kijunSen,null!==a&&null!==c?r(a,c):null),l}return i.tenkanSen=function(t){return arguments.length?(o=t,i):o},i.kijunSen=function(t){return arguments.length?(a=t,i):a},i.senkouSpanB=function(t){return arguments.length?(c=t,i):c},t(i,n).accessor(e()),i}}},{}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.indicators=void 0;var r=t("./indicatormixin"),o=t("../accessor"),a=t("./ema"),c=t("./sma"),i=t("./atr"),u=t("../util"),s=t("./sroc"),l=t("./vwap"),d=t("./atrtrailingstop"),f=t("./heikinashi"),p=t("./ichimoku"),h=t("./macd"),v=t("./rsi"),m=t("./adx"),g=t("./aroon"),y=t("./stochastic"),S=t("./williams"),b=t("./bollinger");function x(t){return 2/(t+1)}function M(t){return 1/t}n.indicators=function(t){var e=(0,r.indicatormixin)(),n=(0,o.accessors)(),k=(0,a.ema_init)(e,n.ohlc,x),w=(0,c.sma_init)(e,n.ohlc),_=(0,i.atr_init)(e,n.ohlc,w),P=(0,u.util)().circularbuffer;return{atr:_,atrtrailingstop:(0,d.atrtrailingstop)(e,n.ohlc,_),ema:k,heikinashi:(0,f.heikinashi)(e,n.ohlc,t.min,t.max),ichimoku:(0,p.ichimoku)(e,n.ohlc),macd:(0,h.macd)(e,n.ohlc,k),rsi:(0,v.rsi)(e,n.ohlc,k),sma:w,wilderma:(0,a.ema_init)(e,n.ohlc,M),aroon:(0,g.aroon)(e,n.ohlc),roc:(0,s.sroc_init)(P,e,n.ohlc,k,1),sroc:(0,s.sroc_init)(P,e,n.ohlc,k,13),stochastic:(0,y.stochastic)(e,n.ohlc,k),williams:(0,S.williams)(e,n.ohlc,k),adx:(0,m.adx)(t.max,e,n.ohlc,k),bollinger:(0,b.bollinger)(e,n.ohlc,w),vwap:(0,l.vwap)(e,n.ohlc)}}},{"../accessor":8,"../util":66,"./adx":20,"./aroon":21,"./atr":22,"./atrtrailingstop":23,"./bollinger":24,"./ema":25,"./heikinashi":26,"./ichimoku":27,"./indicatormixin":29,"./macd":30,"./rsi":31,"./sma":32,"./sroc":33,"./stochastic":34,"./vwap":35,"./williams":36}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.indicatormixin=void 0;n.indicatormixin=function(){return function(t,e){var n={period:function(r){return e.period=r,t.period=function(n){return arguments.length?(e.period=+n,t):e.period},t.preroll=function(){return e.period},n},accessor:function(r){return e.accessor=r,t.accessor=function(n){return arguments.length?(e.accessor=n,t):e.accessor},n},preroll:function(e){return t.preroll=e,n}};return t.preroll=function(){return 0},n}}},{}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.macd=void 0;function r(t,e,n,r,o){return e?{date:t,macd:e,signal:n,difference:r,zero:o}:{date:t,macd:null,signal:null,difference:null,zero:null}}n.macd=function(t,e,n){return function(){var o={},a=12,c=26,i=9,u=n(),s=n(),l=n();function d(t){var e=Math.max(a,c)-1,n=e+i-1;return u.accessor(d.accessor()).period(i).init(),s.accessor(d.accessor()).period(a).init(),l.accessor(d.accessor()).period(c).init(),t.map(function(t,a){var c=s.average(o.accessor(t))-l.average(o.accessor(t)),i=a>=e?u.average(c):null;return a>=n?r(o.accessor.d(t),c,i,c-i,0):r(o.accessor.d(t))}).filter(function(t){return null!==t.macd})}return d.fast=function(t){return arguments.length?(a=t,d):a},d.slow=function(t){return arguments.length?(c=t,d):c},d.signal=function(t){return arguments.length?(i=t,d):i},t(d,o).accessor(e()).preroll(d.slow),d}}},{}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rsi=void 0;function r(t,e,n,r,o){return e?{date:t,rsi:e,middle:n,overbought:r,oversold:o}:{date:t,rsi:null,middle:null,overbought:null,oversold:null}}n.rsi=function(t,e,n){return function(){var o={},a=70,c=50,i=30,u=n(),s=n();function l(t){return u.accessor(l.accessor()).period(o.period).init(),s.accessor(l.accessor()).period(o.period).init(),t.map(function(e,n){if(n<1)return r(o.accessor.d(e));var l=o.accessor(e)-o.accessor(t[n-1]),d=s.average(Math.max(l,0)),f=Math.abs(u.average(Math.min(l,0)));if(n>=o.period){var p=100-100/(1+d/f);return r(o.accessor.d(e),p,c,a,i)}return r(o.accessor.d(e))}).filter(function(t){return null!==t.rsi})}return l.overbought=function(t){return arguments.length?(a=t,l):a},l.middle=function(t){return arguments.length?(c=t,l):c},l.oversold=function(t){return arguments.length?(i=t,l):i},t(l,o).accessor(e()).period(14),l}}},{}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sma_init=void 0;n.sma_init=function(t,e){return function(){var n,r,o,a={};function c(t){return c.init(),t.map(i).filter(function(t){return null!==t.value})}function i(t,e){var n=c.average(a.accessor(t));return e+1<a.period&&(n=null),{date:a.accessor.d(t),value:n}}return c.init=function(){return o=0,n=[],r=0,c},c.average=function(t){return o+=t,n.length+1<a.period?(n.push(t),o/++r):(n.length<a.period&&(n.push(t),o+=t),o-=n[r],n[r]=t,++r===a.period&&(r=0),o/a.period)},t(c,a).accessor(e()).period(10),c}}},{}],33:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sroc_init=void 0;n.sroc_init=function(t,e,n,r,o){return function(){var a,c={},i=r().period(o);function u(t){return u.init(),t.map(s).filter(function(t){return null!==t.value})}function s(t,e){var n=u.roc(c.accessor(t));return(!a.primed()||e+1<i.period())&&(n=null),{date:c.accessor.d(t),value:n}}return u.init=function(){return i.init(),a=t(c.period),u},u.roc=function(t){return a.push(i.average(t)),(a.head()-a.last())/a.last()},u.ema=function(t){return arguments.length?(i=t,u):i},e(u,c).accessor(n()).period(21),u}}},{}],34:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stochastic=void 0;function r(t,e,n,r,o){return e?{date:t,stochasticK:e,stochasticD:n,overbought:r,oversold:o}:{date:t,stochasticK:null,stochasticD:null,overbought:r,oversold:o}}n.stochastic=function(t,e){return function(){var n={},o=3,a=80,c=20;function i(t){var e=i.preroll();return t.map(function(i,u){if(u>=e){for(var s=[],l=[],d=[],f=0;f<o;f++)s.push(0),l.push(1e4),d.push(0);for(var p=0,h=0;h<o;h++){for(var v=0;v<n.period;v++)n.accessor.h(t[u-v-h])>s[h]&&(s[h]=n.accessor.h(t[u-v-h])),n.accessor.l(t[u-v-h])<l[h]&&(l[h]=n.accessor.l(t[u-v-h]));var m=s[h]-l[h];d[h]=m>0?(n.accessor.c(t[u-h])-l[h])/(s[h]-l[h])*100:50,p+=d[h]}var g=d[0];return p/=o,r(n.accessor.d(i),g,p,a,c)}return r(n.accessor.d(i),null,null,a,c)}).filter(function(t){return t.stochasticK})}return i.periodD=function(t){return arguments.length?(o=+t,i):o},i.overbought=function(t){return arguments.length?(a=t,i):a},i.oversold=function(t){return arguments.length?(c=t,i):c},t(i,n).accessor(e()).period(20).preroll(function(){return n.period+o}),i}}},{}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.vwap=void 0;n.vwap=function(t,e){return function(){var n,r,o,a={};function c(t){return c.init(),t.map(i).filter(function(t){return null!==t.value})}function i(t,e){e>0&&o.getDate()!=a.accessor.d(t).getDate()&&(n=0,r=0);var c=(a.accessor.h(t)+a.accessor.l(t)+a.accessor.c(t))/3;return n+=c*a.accessor.v(t),r+=a.accessor.v(t),o=a.accessor.d(t),{date:a.accessor.d(t),value:n/r}}return c.init=function(){return n=0,r=0,c},t(c,a).accessor(e()).period(1),c}}},{}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.williams=void 0;function r(t,e,n,r,o){return e?{date:t,williams:e,middle:n,overbought:r,oversold:o}:{date:t,williams:null,middle:null,overbought:null,oversold:null}}n.williams=function(t,e){var n={},o=80,a=50,c=20;function i(t){return t.map(function(e,i){if(i>=n.period){for(var u=0,s=1e4,l=0;l<n.period;l++)n.accessor.h(t[i-l])>u&&(u=n.accessor.h(t[i-l])),n.accessor.l(t[i-l])<s&&(s=n.accessor.l(t[i-l]));var d=(n.accessor.c(t[i])-s)/(u-s)*100;return r(n.accessor.d(e),d,a,o,c)}return r(n.accessor.d(e))}).filter(function(t){return t.williams})}return i.overbought=function(t){return arguments.length?(o=t,i):o},i.middle=function(t){return arguments.length?(a=t,i):a},i.oversold=function(t){return arguments.length?(c=t,i):c},t(i,n).accessor(e()).period(20),i}},{}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.adx=void 0;n.adx=function(t,e,n){return function(){var r={},o=e.pathLine(),a=e.pathLine(),c=e.pathLine();function i(t){var e=r.dataSelector(t);e.entry.append("path").attr("class","adx"),e.entry.append("path").attr("class","plusDi"),e.entry.append("path").attr("class","minusDi"),i.refresh(t)}function u(){o.init(r.accessor.d,r.xScale,r.accessor.adx,r.yScale),a.init(r.accessor.d,r.xScale,r.accessor.plusDi,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.minusDi,r.yScale)}return i.refresh=function(t){!function(t,e,n,r){t.select("path.adx").attr("d",e),t.select("path.plusDi").attr("d",n),t.select("path.minusDi").attr("d",r)}(r.dataSelector.select(t),o,a,c)},n(i,r).plot(t(),u).dataSelector(n.dataMapper.array),u(),i}}},{}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.aroon=void 0;n.aroon=function(t,e,n){return function(){var r={},o=e.pathLine(),a=e.pathArea(),c=e.pathLine(),i=e.pathLine(),u=e.pathLine();function s(t){var e=r.dataSelector(t);e.entry.append("path").attr("class","overbought"),e.entry.append("path").attr("class","oversold"),e.entry.append("path").attr("class","aroon oscillator"),e.entry.append("path").attr("class","aroon oscillatorArea"),e.entry.append("path").attr("class","aroon middle"),e.entry.append("path").attr("class","aroon up"),e.entry.append("path").attr("class","aroon down"),s.refresh(t)}function l(){o.init(r.accessor.d,r.xScale,r.accessor.oscillator,r.yScale),a.init(r.accessor.d,r.xScale,r.accessor.oscillator,r.yScale,0),c.init(r.accessor.d,r.xScale,r.accessor.m,r.yScale),i.init(r.accessor.d,r.xScale,r.accessor.up,r.yScale),u.init(r.accessor.d,r.xScale,r.accessor.down,r.yScale)}return s.refresh=function(t){!function(t,e,n,r,o,a,c,i,u,s){t.select("path.overbought").attr("d",o.horizontalPathLine(e.d,n,e.ob,r)),t.select("path.oversold").attr("d",o.horizontalPathLine(e.d,n,e.os,r)),t.select("path.aroon.oscillator").attr("d",a),t.select("path.aroon.oscillatorArea").attr("d",c),t.select("path.aroon.middle").attr("d",i),t.select("path.aroon.up").attr("d",u),t.select("path.aroon.down").attr("d",s)}(r.dataSelector.select(t),r.accessor,r.xScale,r.yScale,e,o,a,c,i,u)},n(s,r).plot(t(),l).dataSelector(n.dataMapper.array),l(),s}}},{}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.atrtrailingstop=void 0;n.atrtrailingstop=function(t,e,n){return function(){var r={},o=e.pathLine(),a=e.pathLine();function c(t){var e=r.dataSelector(t);e.entry.append("path").attr("class","up"),e.entry.append("path").attr("class","down"),c.refresh(t)}function i(){o.init(r.accessor.d,r.xScale,r.accessor.up,r.yScale),a.init(r.accessor.d,r.xScale,r.accessor.dn,r.yScale)}return c.refresh=function(t){!function(t,e,n){t.select("path.up").attr("d",e),t.select("path.down").attr("d",n)}(r.dataSelector.select(t),o,a)},n(c,r).plot(t(),i).dataSelector(n.dataMapper.array),i(),c}}},{}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.axisannotation=void 0;function r(t,e,n,r,a){var c=n.scale();switch(r){case"left":case"right":t.attr("x",a*(Math.max(n.tickSizeInner(),0)+n.tickPadding())).attr("y",o(e,c)).attr("dy",".32em").style("text-anchor",a<0?"end":"start");break;case"top":case"bottom":default:t.attr("x",o(e,c)).attr("y",a*(Math.max(n.tickSizeInner(),0)+n.tickPadding())).attr("dy",a<0?"0em":".72em").style("text-anchor","middle")}}function o(t,e){return function(n){return e(t(n))}}n.axisannotation=function(t,e,n,o,a){return function(){var o,c={},i=t(e()),u=14,s=50,l=[0,0],d="bottom";function f(t){var e,n,r=c.dataSelector.mapper((e=c.accessor,n=i.scale(),function(t){var r=n.range(),o=r[0],a=r[r.length-1];return r=o<a?[o,a]:[a,o],t.filter(function(t){if(null===e(t)||void 0===e(t))return!1;var o=n(e(t));return null!==o&&!isNaN(o)&&r[0]<=o&&o<=r[1]})}))(t);r.entry.append("path"),r.entry.append("text"),f.refresh(t)}return f.refresh=function(t){var e=o||(i.tickFormat()?i.tickFormat():i.scale().tickFormat());!function(t,e,n,o,a,c,i,u,s){var l="left"===o||"top"===o?-1:1;t.attr("transform","translate("+s[0]+","+s[1]+")"),t.select("path").attr("d",function(t,e,n,r,o,a,c){return function(i){var u=e.scale(),s=u(t(i)),l=a;switch(n){case"left":case"right":var d=0;return r/2<a?l=r/2:d=r/2-a,"M 0 "+s+" l "+c*Math.max(e.tickSizeInner(),1)+" "+-l+" l 0 "+-d+" l "+c*o+" 0 l 0 "+r+" l "+c*-o+" 0 l 0 "+-d;case"top":case"bottom":var f=0;return o/2<a?l=o/2:f=o/2-a,"M "+s+" 0 l "+-l+" "+c*Math.max(e.tickSizeInner(),1)+" l "+-f+" 0 l 0 "+c*r+" l "+o+" 0 l 0 "+c*-r+" l "+-f+" 0";default:throw"Unsupported orient value: axisannotation.orient("+n+"). Set to one of: 'top', 'bottom', 'left', 'right'"}}}(e,n,o,c,i,u,l)),t.select("text").text(function(t,e){return function(n){return e(t(n))}}(e,a)).call(r,e,n,o,l)}(c.dataSelector.select(t),c.accessor,i,d,e,u,s,4,l)},f.axis=function(t){return arguments.length?(i=t,f):i},f.orient=function(t){return arguments.length?(d=t,f):d},f.format=function(t){return arguments.length?(o=t,f):o},f.height=function(t){return arguments.length?(u=t,f):u},f.width=function(t){return arguments.length?(s=t,f):s},f.translate=function(t){return arguments.length?(l=t,f):l},a(f,c).accessor(n()).dataSelector(),f}}},{}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bollinger=void 0;n.bollinger=function(t,e,n){return function(){var r={},o=e.pathLine(),a=e.pathLine(),c=e.pathLine();function i(t){var e=r.dataSelector(t);e.entry.append("path").attr("class","upper"),e.entry.append("path").attr("class","middle"),e.entry.append("path").attr("class","lower"),i.refresh(t)}function u(){o.init(r.accessor.d,r.xScale,r.accessor.upper,r.yScale),a.init(r.accessor.d,r.xScale,r.accessor.middle,r.yScale),c.init(r.accessor.d,r.xScale,r.accessor.lower,r.yScale)}return i.refresh=function(t){!function(t,e,n,r){t.select("path.upper").attr("d",e),t.select("path.middle").attr("d",n),t.select("path.lower").attr("d",r)}(r.dataSelector.select(t),o,a,c)},n(i,r).plot(t(),u).dataSelector(n.dataMapper.array),u(),i}}},{}],42:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.candlestick=void 0;n.candlestick=function(t,e,n,r,o){return function(){var t,e,a,c={};function i(t){var e=c.dataSelector(t);r.appendPathsUpDownEqual(e.selection,c.accessor,["candle","body"]),r.appendPathsUpDownEqual(e.selection,c.accessor,["candle","wick"]),i.refresh(t)}function u(){t=r.joinPath(s),e=r.joinPath(l),a=r.scaledStrokeWidth(c.xScale,1,4)}function s(){var t=c.accessor,e=c.xScale,n=c.yScale,r=c.width(e);return function(o){var a=n(t.o(o)),c=n(t.c(o)),i=e(t.d(o))-r/2,u="M "+i+" "+a+" l "+r+" 0";return a!=c&&(u+=" L "+(i+r)+" "+c+" l "+-r+" 0 L "+i+" "+a),u}}function l(){var t=c.accessor,e=c.xScale,n=c.yScale,r=c.width(e);return function(o){var a=n(t.o(o)),c=n(t.c(o)),i=e(t.d(o)),u=i-r/2,s="M "+i+" "+n(t.h(o))+" L "+i+" "+Math.min(a,c);return a==c&&(s+=" M "+u+" "+a+" l "+r+" 0"),s+" M "+i+" "+Math.max(a,c)+" L "+i+" "+n(t.l(o))}}return i.refresh=function(n){n.selectAll("path.candle.body").attr("d",t),n.selectAll("path.candle.wick").attr("d",e).style("stroke-width",a)},o(i,c).plot(n(),u).width(u).dataSelector(o.dataMapper.array),u(),i}}},{}],43:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.crosshair=void 0;n.crosshair=function(t,e,n,r,o,a,c){return function(){var t,e,i,u,s={},l=r("enter","out","move"),d=a.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()}),f=a.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()});function p(t){var e=s.dataSelector(t);e.entry.append("path").attr("class","horizontal wire"),e.entry.append("path").attr("class","vertical wire"),e.entry.append("g").attr("class","axisannotation x").call(d),e.entry.append("g").attr("class","axisannotation y").call(f),t.selectAll("rect").data([void 0]).enter().append("rect").style("fill","none").style("pointer-events","all"),p.refresh(t)}function h(n,r,o,a,c){var i=n.node().__coord__;if(void 0!==i){var u=n.datum(),p=s.xScale.invert(i[0]),h=s.yScale.invert(i[1]),v=null!==p&&null!==h&&(s.accessor.xv(u)!==p||s.accessor.yv(u)!==h);s.accessor.xv(u,p),s.accessor.yv(u,h),v&&l.call("move",n.node(),u)}r.attr("d",t),o.attr("d",e),a.call(d.refresh),c.call(f.refresh),n.attr("display",y)}function v(){return d.accessor(s.accessor.xv).scale(s.xScale),f.accessor(s.accessor.yv).scale(s.yScale),p}function m(t){return t=t||{},s.accessor.xv(t,null),s.accessor.yv(t,null),t}function g(t){return void 0===t||null===s.accessor.xv(t)||null===s.accessor.yv(t)}function y(t){return g(t)?"none":null}return p.refresh=function(r){var o,a=s.xScale.range(),c=s.yScale.range(),d=s.dataSelector.select(r),f=d.select("path.vertical"),p=d.select("path.horizontal"),v=d.select("g.axisannotation.x"),g=d.select("g.axisannotation.y");o=i||s.yScale.range(),t=function(t){if(null===s.accessor.xv(t))return null;var e=s.xScale(s.accessor.xv(t)),n=s.xScale.range();return e<Math.min(n[0],n[n.length-1])||e>Math.max(n[0],n[n.length-1])?null:"M "+e+" "+o[0]+" L "+e+" "+o[o.length-1]},e=function(){var t=u||s.xScale.range();return function(e){if(null===s.accessor.yv(e))return null;var n=s.yScale(s.accessor.yv(e));return isNaN(n)?null:"M "+t[0]+" "+n+" L "+t[t.length-1]+" "+n}}(),r.selectAll("rect").attr("x",Math.min.apply(null,a)).attr("y",Math.min.apply(null,c)).attr("height",Math.abs(c[c.length-1]-c[0])).attr("width",Math.abs(a[a.length-1]-a[0])).on("mouseenter",function(){l.call("enter",this)}).on("mouseout",function(){l.call("out",this),delete d.node().__coord__,m(d.datum()),h(d,f,p,v,g)}).on("mousemove",function(t,e,r,o,a){return function(){t.node().__coord__=n(this),h(t,e,r,o,a)}}(d,f,p,v,g)),h(d,f,p,v,g)},p.xAnnotation=function(t){return arguments.length?(d.plots(t instanceof Array?t:[t]),v()):d.plots()},p.yAnnotation=function(t){return arguments.length?(f.plots(t instanceof Array?t:[t]),v()):f.plots()},p.verticalWireRange=function(t){return arguments.length?(i=t,v()):i},p.horizontalWireRange=function(t){return arguments.length?(u=t,v()):u},c(p,s).plot(o(),v).dataSelector(function(t){return g(t)?[m()]:[t]}).on(l),s.dataSelector.scope("crosshair"),v()}}},{}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ichimoku=void 0;function r(){return Math.random().toString(36).substr(2,9)}n.ichimoku=function(t,e,n,o,a){return function(){var c={},i=t().curve(e).defined(function(t){return null!==c.accessor.sb(t)}).x(function(t){return c.xScale(c.accessor.d(t),c.accessor.pks(t))}).y0(function(t){return c.yScale(c.accessor.sb(t))}),u=t().curve(e).defined(function(t){return null!==c.accessor.sa(t)&&null!==c.accessor.sb(t)}).x(function(t){return c.xScale(c.accessor.d(t),c.accessor.pks(t))}).y0(function(t){return c.yScale(c.accessor.sa(t))}).y1(function(t){return c.yScale(c.accessor.sb(t))}),s=o.pathLine(),l=o.pathLine(),d=o.pathLine(),f=o.pathLine(),p=o.pathLine();function h(t){var e=c.dataSelector(t),n="kumoclipup-"+r(),o="kumoclipdown-"+r();e.entry.append("clipPath").attr("id",o).attr("class","kumoclipdown").append("path"),e.entry.append("clipPath").attr("id",n).attr("class","kumoclipup").append("path"),e.entry.append("path").attr("class","kumo down").attr("clip-path","url(#"+o+")"),e.entry.append("path").attr("class","kumo up").attr("clip-path","url(#"+n+")"),e.entry.append("path").attr("class","senkouspanb"),e.entry.append("path").attr("class","senkouspana"),e.entry.append("path").attr("class","chikouspan"),e.entry.append("path").attr("class","kijunsen"),e.entry.append("path").attr("class","tenkansen"),h.refresh(t)}function v(){var t;s.init(c.accessor.d,c.xScale,c.accessor.sa,c.yScale,c.accessor.pks),l.init(c.accessor.d,c.xScale,c.accessor.sb,c.yScale,c.accessor.pks),d.init(c.accessor.d,c.xScale,c.accessor.c,c.yScale,(t=c.accessor.pks,function(e){return-t(e)})),f.init(c.accessor.d,c.xScale,c.accessor.ts,c.yScale),p.init(c.accessor.d,c.xScale,c.accessor.ks,c.yScale)}return h.refresh=function(t){var e,n;e=c.dataSelector.select(t),n=c.yScale,e.select(".kumoclipdown path").attr("d",i.y1(n.range()[0])),e.select(".kumoclipup path").attr("d",i.y1(n.range()[1])),e.select("path.kumo.down").attr("d",u),e.select("path.kumo.up").attr("d",u),e.select("path.senkouspanb").attr("d",l),e.select("path.senkouspana").attr("d",s),e.select("path.chikouspan").attr("d",d),e.select("path.kijunsen").attr("d",p),e.select("path.tenkansen").attr("d",f)},a(h,c).plot(n(),v).dataSelector(a.dataMapper.array),v(),h}}},{}],45:[function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.plot=void 0;var o=t("../scale"),a=t("../accessor"),c=t("./plot"),i=t("../util"),u=t("./plotmixin"),s=t("./candlestick"),l=t("./axisannotation"),d=t("../svg"),f=t("./line"),p=t("./adx"),h=t("./aroon"),v=t("./atrtrailingstop"),m=t("./bollinger"),g=t("./crosshair"),y=t("./ichimoku"),S=t("./macd"),b=t("./ohlc"),x=t("./rsi"),M=t("./stochastic"),k=t("./supstance"),w=t("./tick"),_=t("./tradearrow"),P=t("./trendline"),j=t("./williams"),O=t("./volume"),L=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=D();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=o?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(t("d3"));function D(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return D=function(){return t},t}function z(){return L.event}n.plot=function(t){var e=(0,o.scale)(t),n=(0,a.accessors)(),r=(0,c.plot)(t.line,t.area,t.curveMonotoneX,t.select),L=(0,i.util)().functor,D=(0,u.plotmixin)(t.scaleLinear,L,e.financetime,r.dataSelector,r.barWidth),A=(0,s.candlestick)(t.scaleLinear,t.extent,n.ohlc,r,D),F=(0,l.axisannotation)(t.axisTop,t.scaleLinear,n.value,r,D),N=(0,d.svg)(t);return{adx:(0,p.adx)(n.adx,r,D),aroon:(0,h.aroon)(n.aroon,r,D),atr:(0,f.line)(n.value,r,D),atrtrailingstop:(0,v.atrtrailingstop)(n.atrtrailingstop,r,D),axisannotation:F,bollinger:(0,m.bollinger)(n.bollinger,r,D),candlestick:A,close:(0,f.line)(n.ohlc,r,D),crosshair:(0,g.crosshair)(t.select,z,t.mouse,t.dispatch,n.crosshair,r,D),ema:(0,f.line)(n.value,r,D),heikinashi:A,ichimoku:(0,y.ichimoku)(t.area,t.curveMonotoneX,n.ichimoku,r,D),macd:(0,S.macd)(n.macd,r,D),momentum:(0,f.line)(n.value,r,D,!0),moneyflow:(0,f.line)(n.value,r,D,!0),ohlc:(0,b.ohlc)(t.scaleLinear,t.extent,n.ohlc,r,D),roc:(0,f.line)(n.value,r,D,!0),rsi:(0,x.rsi)(n.rsi,r,D),sma:(0,f.line)(n.value,r,D),sroc:(0,f.line)(n.value,r,D,!0),stochastic:(0,M.stochastic)(n.stochastic,r,D),supstance:(0,k.supstance)(t.drag,z,t.select,t.dispatch,n.supstance,r,D),tick:(0,w.tick)(t.scaleLinear,t.extent,n.tick,r,D),tradearrow:(0,_.tradearrow)(t.select,L,t.mouse,t.dispatch,n.trade,r,D,N.arrow),trendline:(0,P.trendline)(t.drag,z,t.select,t.dispatch,n.trendline,r,D),volume:(0,O.volume)(n.volume,r,D),vwap:(0,f.line)(n.value,r,D),wilderma:(0,f.line)(n.value,r,D),williams:(0,j.williams)(n.williams,r,D)}}},{"../accessor":8,"../scale":60,"../svg":63,"../util":66,"./adx":37,"./aroon":38,"./atrtrailingstop":39,"./axisannotation":40,"./bollinger":41,"./candlestick":42,"./crosshair":43,"./ichimoku":44,"./line":46,"./macd":47,"./ohlc":48,"./plot":49,"./plotmixin":50,"./rsi":51,"./stochastic":52,"./supstance":53,"./tick":54,"./tradearrow":55,"./trendline":56,"./volume":57,"./williams":58,d3:"d3"}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.line=void 0;n.line=function(t,e,n,r){return r=r||!1,function(){var o={},a=e.pathLine();function c(t){var e=o.dataSelector(t);e.entry.append("path").attr("class","line"),r&&e.selection.append("path").attr("class","zero"),c.refresh(t)}function i(){a.init(o.accessor.d,o.xScale,o.accessor,o.yScale)}return c.refresh=function(t){!function(t,e,n,r,o,a,c){t.select("path.line").attr("d",a),c&&t.select("path.zero").attr("d",o.horizontalPathLine(e.d,n,e.z,r))}(o.dataSelector.select(t),o.accessor,o.xScale,o.yScale,e,a,r)},n(c,o).plot(t(),i).dataSelector(n.dataMapper.array),i(),c}}},{}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.macd=void 0;n.macd=function(t,e,n){return function(){var r,o={},a=e.pathLine(),c=e.pathLine();function i(t){var e=o.dataSelector(t);e.selection.append("path").attr("class","difference"),e.selection.append("path").attr("class","zero"),e.selection.append("path").attr("class","macd"),e.selection.append("path").attr("class","signal"),i.refresh(t)}function u(){r=e.joinPath(s),a.init(o.accessor.d,o.xScale,o.accessor.m,o.yScale),c.init(o.accessor.d,o.xScale,o.accessor.s,o.yScale)}function s(){var t=o.accessor,e=o.xScale,n=o.yScale,r=o.width(e);return function(o){var a=n(0),c=n(t.dif(o))-a;return"M "+(e(t.d(o))-r/2)+" "+a+" l 0 "+c+" l "+r+" 0 l 0 "+-c}}return i.refresh=function(t){!function(t,e,n,r,o,a,c,i){t.select("path.difference").attr("d",a),t.select("path.zero").attr("d",o.horizontalPathLine(e.d,n,e.z,r)),t.select("path.macd").attr("d",c),t.select("path.signal").attr("d",i)}(o.dataSelector.select(t),o.accessor,o.xScale,o.yScale,e,r,a,c)},n(i,o).plot(t(),u).width(u).dataSelector(n.dataMapper.array),u(),i}}},{}],48:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ohlc=void 0;n.ohlc=function(t,e,n,r,o){return function(){var t,e,a={};function c(t){r.appendPathsUpDownEqual(a.dataSelector(t).selection,a.accessor,"ohlc"),c.refresh(t)}function i(){t=r.joinPath(u),e=r.scaledStrokeWidth(a.xScale,1,2)}function u(){var t=a.accessor,e=a.xScale,n=a.yScale,r=a.width(e);return function(o){var a=n(t.o(o)),c=n(t.c(o)),i=e(t.d(o));return"M "+(i-r/2)+" "+a+" l "+r/2+" 0 M "+i+" "+n(t.h(o))+" L "+i+" "+n(t.l(o))+" M "+i+" "+c+" l "+r/2+" 0"}}return c.refresh=function(n){n.selectAll("path.ohlc").attr("d",t).style("stroke-width",e)},o(c,a).plot(n(),i).width(i).dataSelector(o.dataMapper.array),i(),c}}},{}],49:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.plot=void 0;n.plot=function(t,e,n,r){var o=function(t){var e,n,r=["data"];function o(n){var a=o.select(n).data(t,e),c=a.enter().append("g").attr("class",u(r," "));return a.exit().remove(),{entry:c,selection:c.merge(a)}}return o.select=function(t){return t.selectAll("g."+u(r,"."))},o.mapper=function(e){return arguments.length?(t=e,o):t},o.scope=function(t){return arguments.length?(r=["data","scope-"+(n=t)],o):n},o.key=function(t){return arguments.length?(e=t,o):e},o};function a(t){return{up:function(e){return t.o(e)<t.c(e)},down:function(e){return t.o(e)>t.c(e)},equal:function(e){return t.o(e)===t.c(e)}}}function c(t,e,n,r){var o=n instanceof Array?n:[n];r=r||a(e),Object.keys(r).forEach(function(e){!function(t,e,n,r){t.selectAll("path."+u(n,".")+"."+r).data(function(t){return[t.filter(e)]}).enter().append("path").attr("class",u(n," ")+" "+r)}(t,r[e],o,e)})}function i(t){return void 0!==t.band?Math.max(t.band(),1):3}function u(t,e){if(t.length){for(var n=t[0],r=1;r<t.length;r++)n+=e+t[r];return n}}return o.mapper={unity:function(t){return t},array:function(t){return[t]}},{dataSelector:o,appendPathsGroupBy:c,appendPathsUpDownEqual:function(t,e,n){c(t,e,n,a(e))},horizontalPathLine:function(t,e,n,r){return function(o){if(!o.length)return null;var a=o[0],c=o[o.length-1];return"M "+e(t(a))+" "+r(n(a))+" L "+e(t(c))+" "+r(n(c))}},pathLine:function(){var e=t().curve(n);function r(t){return e(t)}return r.init=function(t,n,r,o,a){return e.defined(function(t){return null!==r(t)}).x(function(e){return n(t(e),void 0===a?a:a(e))}).y(function(t){return o(r(t))})},r.d3=function(){return e},r},pathArea:function(){var t=e().curve(n);function r(e){return t(e)}return r.init=function(e,n,r,o,a){return t.defined(function(t){return null!==r(t)}).x(function(t){return n(e(t))}).y0(function(t){return o(a)}).y1(function(t){return o(r(t))})},r.d3=function(){return t},r},barWidth:i,scaledStrokeWidth:function(t,e,n){return e=e||1,n=n||1,function(){return Math.min(e,i(t)/n)+"px"}},joinPath:function(t){return function(e){return u(e.map(t())," ")}},interaction:{mousedispatch:function(t){return function(e){return e.on("mouseenter",function(e){r(this.parentNode).classed("mouseover",!0),t.call("mouseenter",this,e)}).on("mouseleave",function(e){var n=r(this.parentNode);n.classed("dragging")||(n.classed("mouseover",!1),t.call("mouseout",this,e))}).on("mousemove",function(e){t.call("mousemove",this,e)})}},dragStartEndDispatch:function(t,e){return t.on("start",function(t){r(this.parentNode.parentNode).classed("dragging",!0),e.call("dragstart",this,t)}).on("end",function(t){r(this.parentNode.parentNode).classed("dragging",!1),e.call("dragend",this,t)})}},plotComposer:function(){var t,e,n=o(),a=[],c=function(t){return t.scale()};function i(t){n.mapper(function(){return a.map(function(){return[]})})(t).selection.each(function(t,e){a[e](r(this))}),i.refresh(t)}return i.refresh=function(o){n.select(o).data(function(n){var r=e(n);if(null===r||void 0===r)return a.map(function(){return[]});var o=t(r);return a.map(function(e){return[{value:c(e)===t?r:c(e).invert(o)}]})}).each(function(t,e){a[e](r(this))})},i.plots=function(t){return arguments.length?(a=t,i):a},i.scale=function(e){return arguments.length?(t=e,i):t},i.accessor=function(t){return arguments.length?(e=t,i):e},i.scope=function(t){return arguments.length?(n.scope(t),i):n.scope()},i.plotScale=function(t){return arguments.length?(c=t,i):c},i}}}},{}],50:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.plotmixin=void 0;n.plotmixin=function(t,e,n,r,o){var a=function(a,c){var i={dataSelector:function(t,e){return c.dataSelector=r(t).key(e),i},xScale:function(t){return c.xScale=n(),a.xScale=function(e){return arguments.length?(c.xScale=e,t&&t(),a):c.xScale},i},yScale:function(e){return c.yScale=t(),a.yScale=function(t){return arguments.length?(c.yScale=t,e&&e(),a):c.yScale},i},accessor:function(t,e){return c.accessor=t,a.accessor=function(t){return arguments.length?(c.accessor=t,e&&e(),a):c.accessor},i},width:function(t){return c.width=o,a.width=function(n){return arguments.length?(c.width=e(n),t&&t(),a):c.width},i},on:function(t,e){return a.on=function(n,r){return t.on(n,r),e&&e(),a},i},plot:function(t,e){return i.xScale(e).yScale(e).accessor(t,e)}};return i};return a.dataMapper=r.mapper,a}},{}],51:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rsi=void 0;n.rsi=function(t,e,n){return function(){var r={},o=e.pathLine();function a(t){var e=r.dataSelector(t);e.entry.append("path").attr("class","overbought"),e.entry.append("path").attr("class","middle"),e.entry.append("path").attr("class","oversold"),e.entry.append("path").attr("class","rsi"),a.refresh(t)}function c(){o.init(r.accessor.d,r.xScale,r.accessor.r,r.yScale)}return a.refresh=function(t){!function(t,e,n,r,o,a){t.select("path.overbought").attr("d",o.horizontalPathLine(e.d,n,e.ob,r)),t.select("path.middle").attr("d",o.horizontalPathLine(e.d,n,e.m,r)),t.select("path.oversold").attr("d",o.horizontalPathLine(e.d,n,e.os,r)),t.select("path.rsi").attr("d",a)}(r.dataSelector.select(t),r.accessor,r.xScale,r.yScale,e,o)},n(a,r).plot(t(),c).dataSelector(n.dataMapper.array),c(),a}}},{}],52:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stochastic=void 0;n.stochastic=function(t,e,n){return function(){var r={},o=e.pathLine(),a=e.pathLine();function c(t){var e=r.dataSelector(t);e.entry.append("path").attr("class","overbought"),e.entry.append("path").attr("class","oversold"),e.entry.append("path").attr("class","stochastic k"),e.entry.append("path").attr("class","stochastic d"),c.refresh(t)}function i(){o.init(r.accessor.d,r.xScale,r.accessor.k,r.yScale),a.init(r.accessor.d,r.xScale,r.accessor.sd,r.yScale)}return c.refresh=function(t){!function(t,e,n,r,o,a,c){t.select("path.overbought").attr("d",o.horizontalPathLine(e.d,n,e.ob,r)),t.select("path.oversold").attr("d",o.horizontalPathLine(e.d,n,e.os,r)),t.select("path.stochastic.k").attr("d",a),t.select("path.stochastic.d").attr("d",c)}(r.dataSelector.select(t),r.accessor,r.xScale,r.yScale,e,o,a)},n(c,r).plot(t(),i).dataSelector(n.dataMapper.array),i(),c}}},{}],53:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.supstance=void 0;function r(t,e,n,r,a){t.select(".supstance path").attr("d",o(e,n,r)),t.select(".interaction path").attr("d",o(e,n,r)),t.select(".axisannotation.y").call(a.refresh)}function o(t,e,n){return function(r){var o;return!function(t){return void 0!==t.s&&void 0!==t.e}(t)?o=e.range():((o=[t.s(r),t.e(r)])[0]=void 0!==o[0]?e(o[0]):e.range()[0],o[1]=void 0!==o[1]?e(o[1]):e.range()[1]),"M "+o[0]+" "+n(t(r))+" L "+o[o.length-1]+" "+n(t(r))}}n.supstance=function(t,e,n,o,a,c,i){return function(){var u={},s=o("mouseenter","mouseout","mousemove","drag","dragstart","dragend"),l=c.plotComposer().scope("composed-annotation").plotScale(function(t){return t.axis().scale()});function d(t){var e=u.dataSelector(t);e.entry.append("g").attr("class","supstance").append("path"),e.entry.append("g").attr("class","axisannotation y").call(l),e.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(c.interaction.mousedispatch(s)).append("path").style("stroke-width","16px"),d.refresh(t)}function f(){return l.accessor(u.accessor.v).scale(u.yScale),d}return d.refresh=function(t){r(u.dataSelector.select(t),u.accessor,u.xScale,u.yScale,l)},d.drag=function(o){o.selectAll(".interaction path").call(function(o,a,i,u,s){var l=t().subject(function(t){return{x:0,y:u(a(t))}}).on("drag",function(t){var c=u.invert(e().y),l=n(this.parentNode.parentNode);a.v(t,c),r(l,a,i,u,s),o.call("drag",this,t)});return c.interaction.dragStartEndDispatch(l,o)}(s,u.accessor,u.xScale,u.yScale,l))},d.annotation=function(t){return arguments.length?(l.plots(t instanceof Array?t:[t]),d):l.plots()},i(d,u).dataSelector(i.dataMapper.unity).plot(a(),f).on(s),u.dataSelector.scope("supstance"),f()}}},{}],54:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tick=void 0;n.tick=function(t,e,n,r,o){return function(){var t,e,a={};function c(t){a.dataSelector(t).entry.append("path").attr("class","tick"),c.refresh(t)}function i(){t=r.joinPath(u),e=r.scaledStrokeWidth(a.xScale,1,2)}function u(){var t=a.accessor,e=a.xScale,n=a.yScale,r=a.width(e);return function(o){var a=n(t.h(o)),c=n(t.l(o)),i=e(t.d(o)),u=i-r/2;return"M "+u+" "+a+" l "+r+" 0 M "+i+" "+a+" L "+i+" "+c+" M "+u+" "+c+" l "+r+" 0"}}return c.refresh=function(n){a.dataSelector.select(n).select("path.tick").attr("d",t).style("stroke-width",e)},o(c,a).plot(n(),i).width(i).dataSelector(o.dataMapper.array),i(),c}}},{}],55:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tradearrow=void 0;function r(t,e){Object.keys(e).forEach(function(n){t.classed(n,e[n])})}n.tradearrow=function(t,e,n,o,a,c,i,u){return function(){var s,l={},d=o("mouseenter","mouseout"),f=function(t){return l.yScale(l.accessor.p(t))},p=u().orient(function(t){return"buy"===l.accessor.t(t)?"up":"down"});function h(e){var o=l.dataSelector(e),a=e.datum().map(function(t){return l.accessor.t(t)}).reduce(function(t,e){return void 0===t[e]&&(t[e]=function(t){return e===l.accessor.t(t)}),t},{});c.appendPathsGroupBy(o.selection,l.accessor,"tradearrow",a),o.entry.append("path").attr("class","highlight").style("pointer-events","none"),o.selection.selectAll("path.tradearrow").on("mouseenter",function(e){var o=m(e,n(this)[0]);t(this.parentNode).select("path.highlight").datum(o.d).attr("d",p).call(r,a),d.call("mouseenter",this,o.d,o.i)}).on("mouseout",function(e){t(this.parentNode).selectAll("path.highlight").datum([]).attr("d",null).attr("class","highlight");var r=m(e,n(this)[0]);d.call("mouseout",this,r.d,r.i)}),h.refresh(e)}function v(){return p.x(function(t){return l.xScale(l.accessor.d(t))}).y(f),s=c.joinPath(function(){return p}),h}function m(t,e){return t.map(function(t,e){return{d:t,i:e,x:l.xScale(l.accessor.d(t))}}).reduce(function(t,n){return Math.abs(t.x-e)<Math.abs(n.x-e)?t:n})}return h.refresh=function(t){t.selectAll("path.tradearrow").attr("d",s)},h.orient=function(t){return arguments.length?(p.orient(t),v()):p.orient()},h.y=function(t){return arguments.length?(f=e(t),v()):f},h.arrow=function(){return p},i(h,l).plot(a(),v).on(d).dataSelector(i.dataMapper.array),v(),h}}},{}],56:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.trendline=void 0;function r(t,e,n,r){t.selectAll("path.body").attr("d",function(t,e,n){return function(r){return"M "+e(t.sd(r))+" "+n(t.sv(r))+" L "+e(t.ed(r))+" "+n(t.ev(r))}}(e,n,r)),t.selectAll("circle.start").attr("cx",o(e.sd,n)).attr("cy",a(e.sv,r)),t.selectAll("circle.end").attr("cx",o(e.ed,n)).attr("cy",a(e.ev,r))}function o(t,e){return function(n){return e(t(n))}}function a(t,e){return function(n){return e(t(n))}}n.trendline=function(t,e,n,o,a,c,i){function u(o,a,i,u,l,d){var f=t();return f.subject(function(t){return{x:u(i(t)),y:d(l(t))}}).on("drag",function(t){s(i,u,e().x,l,d,e().y,t),r(n(this.parentNode.parentNode.parentNode),a,u,d),o.call("drag",this,t)}),c.interaction.dragStartEndDispatch(f,o)}function s(t,e,n,r,o,a,c){var i=e.invert(n);null!==i&&void 0!==i&&t(c,i),r(c,o.invert(a))}return function(){var l={},d=o("mouseenter","mouseout","mousemove","drag","dragstart","dragend");function f(t){var e=l.dataSelector(t),n=e.entry.append("g").attr("class","trendline");n.append("path").attr("class","body"),n.append("circle").attr("class","start").attr("r",1),n.append("circle").attr("class","end").attr("r",1);var r=e.entry.append("g").attr("class","interaction").style("opacity",0).style("fill","none").call(c.interaction.mousedispatch(d));r.append("path").attr("class","body").style("stroke-width","16px"),r.append("circle").attr("class","start").attr("r",8),r.append("circle").attr("class","end").attr("r",8),f.refresh(t)}return f.refresh=function(t){r(l.dataSelector.select(t),l.accessor,l.xScale,l.yScale)},f.drag=function(o){o.selectAll(".interaction circle.start").call(u(d,l.accessor,l.accessor.sd,l.xScale,l.accessor.sv,l.yScale)),o.selectAll(".interaction circle.end").call(u(d,l.accessor,l.accessor.ed,l.xScale,l.accessor.ev,l.yScale)),o.selectAll(".interaction path.body").call(function(o,a,i,u){var l={},d=t();return d.subject(function(t){return l.start={date:i(a.sd(t)),value:u(a.sv(t))},l.end={date:i(a.ed(t)),value:u(a.ev(t))},{x:0,y:0}}).on("drag",function(t){s(a.sd,i,e().x+l.start.date,a.sv,u,e().y+l.start.value,t),s(a.ed,i,e().x+l.end.date,a.ev,u,e().y+l.end.value,t),r(n(this.parentNode.parentNode.parentNode),a,i,u),o.call("drag",this,t)}),c.interaction.dragStartEndDispatch(d,o)}(d,l.accessor,l.xScale,l.yScale))},i(f,l).dataSelector(i.dataMapper.unity).plot(a()).on(d),f}}},{}],57:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.volume=void 0;n.volume=function(t,e,n){return function(){var r,o={};function a(t){var n=o.dataSelector(t);i()?e.appendPathsUpDownEqual(n.selection,o.accessor,"volume"):n.entry.append("path").attr("class","volume"),a.refresh(t)}function c(){r=e.joinPath(u)}function i(){return o.accessor.o&&o.accessor.c}function u(){var t=o.accessor,e=o.xScale,n=o.yScale,r=o.width(e);return function(o){var a=t.v(o);if(isNaN(a))return null;var c=n(0),i=n(a)-c;return"M "+(e(t.d(o))-r/2)+" "+c+" l 0 "+i+" l "+r+" 0 l 0 "+-i}}return a.refresh=function(t){i()?t.selectAll("path.volume").attr("d",r):o.dataSelector.select(t).select("path.volume").attr("d",r)},n(a,o).plot(t(),c).width(c).dataSelector(n.dataMapper.array),c(),a}}},{}],58:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.williams=void 0;n.williams=function(t,e,n){return function(){var r={},o=e.pathLine();function a(t){r.dataSelector(t).entry.append("path").attr("class","williams up"),a.refresh(t)}function c(){o.init(r.accessor.d,r.xScale,r.accessor.w,r.yScale)}return a.refresh=function(t){r.dataSelector.select(t).select("path.williams.up").attr("d",o)},n(a,r).plot(t(),c).dataSelector(n.dataMapper.array),c(),a}}},{}],59:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.financetime=void 0;function r(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][1](e))return t[n][0](e)}}n.financetime=function(t,e,n,o,a,c){function i(e,r,p,h,v,m,g,y,S){var b,x={tickFormat:e.daily[e.daily.length-1][2]},M=3;function k(t,e){var r=b[t instanceof Date?t.getTime():+t];return e=e||0,void 0===r&&(r=h[0]>t?-1:n(h,t)),p(r+e)}function w(){return M=function(t,e,n){return Math.abs(t(e.length-1)-t(0))/Math.max(1,e.length-1)*(1-n)}(p,h,v),k}function _(){b=u(h)}function P(){return _(),p.domain([0,h.length-1]),w(),p.domain(p.range().map(a(m,M)).map(p.invert)),g.domain=p.domain(),w()}function j(t,o,a){if(1==t.length)return r;var c=t[t.length-1]-t[0],i=c/l<1,u=i?e.intraday:e.daily,s=i?f:d,p=c/Math.min(Math.round(function(t,e){return t.length/(e[e.length-1]-e[0])}(t,o)*a),a),h=n(s,p);return h==u.length?u[h-1]:h?u[p/s[h-1]<s[h]/p?h-1:h]:u[h]}return p=p||t(),h=h||[new Date(0),new Date(1)],v=void 0===v?.2:v,m=void 0===m?.65:m,g=g||{domain:p.domain()},y=y||!1,S=S||c(p,w,g),k.invert=function(t){var e=h[k.invertToIndex(t)];return e||null},k.invertToIndex=function(t){return Math.round(p.invert(t))},k.domain=function(t){if(!arguments.length){var e=p.domain();return e[0]<0&&e[e.length-1]<0?[]:(e=[Math.max(Math.ceil(e[0]),0),Math.min(Math.floor(e[e.length-1]),h.length-1)],h.slice(e[0],e[e.length-1]+1))}return h=t,P()},k.copy=function(){return i(e,r,p.copy(),h,v,m,g,y)},k.band=function(){return M},k.outerPadding=function(t){return arguments.length?(m=t,P()):m},k.padding=function(t){return arguments.length?(v=t,P()):v},k.zoomable=function(){return S},k.ticks=function(t,e){var r=k.domain(),o=p.domain();if(!r.length)return[];var a=void 0===t?j(r,o,10):"number"==typeof t?j(r,o,t):null;return x.tickFormat=a?a[2]:j(r,o,10)[2],a&&(t=a[0],e=a[1]),t.every(e).range(r[0],+r[r.length-1]+1).map(function(t,e){var r=u(t);return function(o){var a=r[+o];if(void 0!==a)return t[a];var c=n(t,o);return e&&c>0&&+o-+t[c-1]<+t[c]-+o&&c--,t[c]}}(r,y)).reduce(s,[])},k.closestTicks=function(t){return arguments.length?(y=t,k):y},k.tickFormat=function(){return function(t){return x.tickFormat(t)}},o(k,p,w,"range"),_(),w()}function u(t){var e={};return t.forEach(function(t,n){e[+t]=n}),e}function s(t,e){return 0!==t.length&&t[t.length-1]===e||t.push(e),t}var l=864e5,d=[l,6048e5,2592e6,7776e6,31536e6],f=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5],p=e.timeFormat("%b %e"),h=r([[e.timeFormat("%b %Y"),function(t){return t.getMonth()}],[e.timeFormat("%Y"),function(){return!0}]]),v=r([[e.timeFormat(":%S"),function(t){return t.getSeconds()}],[e.timeFormat("%I:%M"),function(t){return t.getMinutes()}],[e.timeFormat("%I %p"),function(){return!0}]]),m=[e.timeSecond,1,r([[e.timeFormat(":%S"),function(t){return t.getSeconds()}],[e.timeFormat("%I:%M"),function(t){return t.getMinutes()}],[e.timeFormat("%I %p"),function(t){return t.getHours()}],[e.timeFormat("%b %e"),function(){return!0}]])],g=e.utcFormat("%b %e"),y=r([[e.utcFormat("%b %Y"),function(t){return t.getUTCMonth()}],[e.utcFormat("%Y"),function(){return!0}]]),S=r([[e.utcFormat(":%S"),function(t){return t.getUTCSeconds()}],[e.utcFormat("%I:%M"),function(t){return t.getUTCMinutes()}],[e.utcFormat("%I %p"),function(){return!0}]]),b=[e.timeSecond,1,r([[e.utcFormat(":%S"),function(t){return t.getUTCSeconds()}],[e.utcFormat("%I:%M"),function(t){return t.getUTCMinutes()}],[e.utcFormat("%I %p"),function(t){return t.getUTCHours()}],[e.utcFormat("%b %e"),function(){return!0}]])],x=[[e.timeDay,1,p],[e.timeMonday,1,p],[e.timeMonth,1,h],[e.timeMonth,3,h],[e.timeYear,1,h]],M=[[e.timeSecond,1,v],[e.timeSecond,5,v],[e.timeSecond,15,v],[e.timeSecond,30,v],[e.timeMinute,1,v],[e.timeMinute,5,v],[e.timeMinute,15,v],[e.timeMinute,30,v],[e.timeHour,1,v],[e.timeHour,3,v],[e.timeHour,6,v],[e.timeHour,12,v],[e.timeDay,1,p]],k=[[e.utcDay,1,g],[e.utcMonday,1,g],[e.utcMonth,1,y],[e.utcMonth,3,y],[e.utcYear,1,y]],w=[[e.utcSecond,1,S],[e.utcSecond,5,S],[e.utcSecond,15,S],[e.utcSecond,30,S],[e.utcMinute,1,S],[e.utcMinute,5,S],[e.utcMinute,15,S],[e.utcMinute,30,S],[e.utcHour,1,S],[e.utcHour,3,S],[e.utcHour,6,S],[e.utcHour,12,S],[e.utcDay,1,g]];function _(){return i({daily:x,intraday:M},m)}return _.utc=function(){return i({daily:k,intraday:w},b)},_}},{}],60:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scale=void 0;var r=t("../util"),o=t("./zoomable"),a=t("../accessor"),c=t("./financetime");function i(t,e,n,r){return t.scaleLinear().domain(function(t,e,n,r){return e.length>0?t.extent(e,n).map(u(r)):[]}(t,e,n,r))}function u(t,e){return t=t||0,function(n,r,o){if(o.length>2)throw"array.length > 2 unsupported. array.length = "+o.length;return n+(2*r-1)*(e=e||o[o.length-1]-o[0])*t}}function s(t,e){return t.map(e).reduce(function(t,e){return t.concat(e)}).filter(function(t){return null!==t})}n.scale=function(t){var e=(0,o.zoomable)(),n=(0,r.util)(),l=(0,a.accessors)(),d=(0,c.financetime)(t.scaleLinear,t,t.bisect,n.rebindCallback,u,e);function f(e,n){return n=n||l.ohlc(),t.scaleLinear().domain([t.min(e.map(n.low())),t.max(e.map(n.high()))].map(u(.02)))}function p(e,n,r){return n=n||l.value(),i(t,e,n,r=void 0===r?.02:r)}return{financetime:d,plot:{adx:function(){return t.scaleLinear().domain([0,100])},aroon:function(){return t.scaleLinear().domain([-100,100])},atr:p,atrtrailingstop:function(e,n){n=n||l.atrtrailingstop();var r=s(e,function(t){return[n.up(t),n.dn(t)]});return t.scaleLinear().domain(t.extent(r).map(u(.04)))},bollinger:function(e,n){return n=n||l.bollinger(),t.scaleLinear().domain([t.min(e.map(function(t){return n.lower(t)})),t.max(e.map(function(t){return n.upper(t)}))].map(u(.02)))},candlestick:f,close:p,ema:p,heikinashi:f,ichimoku:function(e,n){n=n||l.ichimoku();var r=s(e,function(t,r){var o=e[r+n.pks(t)],a=e[r-n.pks(t)];return[n.ts(t),n.ks(t),a?n.sa(a):null,a?n.sb(a):null,o?n.c(o):null]});return t.scaleLinear().domain(t.extent(r).map(u(.02)))},macd:function(e,n){return n=n||l.macd(),i(t,e,n,.02)},momentum:p,moneyflow:p,ohlc:f,percent:function(t,e){var n=t.domain();return e=e||n[0],t.copy().domain([n[0],n[n.length-1]].map(function(t){return(t-e)/e}))},roc:p,rsi:function(){return t.scaleLinear().domain([0,100])},sma:p,sroc:p,stochastic:function(){return t.scaleLinear().domain([0,100])},supstance:function(e,n){return n=n||l.supstance(),i(t,e,n.v,.02)},tick:f,time:function(t,e){return e=e||l.value(),d().domain(t.map(e.d))},tradearrow:function(e,n){return n=n||l.trade(),i(t,e,n.p,.02)},trendline:function(e,n){n=n||l.trendline();var r=s(e,function(t){return[n.sv(t),n.ev(t)]});return t.scaleLinear().domain(t.extent(r).map(u(.04)))},volume:function(e,n){return n=n||l.ohlc().v,t.scaleLinear().domain([0,1.15*t.max(e.map(n))])},vwap:p,wilderma:p,williams:function(){return t.scaleLinear().domain([0,100])}}}}},{"../accessor":8,"../util":66,"./financetime":59,"./zoomable":61}],61:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.zoomable=void 0;n.zoomable=function(){function t(e,n,r,o){function a(t){return e.apply(e,arguments)}return o=void 0===o||o,a.invert=e.invert,a.domain=function(t){return arguments.length?(o?e.domain([Math.max(r.domain[0],t[0]),Math.min(r.domain[1],t[1])]):e.domain(t),n&&n(),a):e.domain()},a.range=function(t){if(!arguments.length)return e.range();throw"zoomable is a read only range. Use this scale for zooming only"},a.copy=function(){return t(e.copy(),n,r,o)},a.clamp=function(t){return arguments.length?(o=t,a):o},a}return t}},{}],62:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.arrow=void 0;n.arrow=function(t){return function(){var e=t(0),n=t(0),r=t(12),o=t(15),a=t("up"),c=t(!0);function i(t,i){var u,s=e(t,i),l=n(t,i),d=r(t,i),f=o(t,i),p=a(t,i),h=c(t,i),v="left"===p||"up"===p?1:-1,m=d/3,g=d/2,y=h?f/2:f;switch(u="M "+s+" "+l,p){case"up":case"down":u+=" l "+-g+" "+v*y+" l "+m+" 0",h&&(u+=" l 0 "+v*y),u+=" l "+m+" 0",h&&(u+=" l 0 "+-v*y),u+=" l "+m+" 0";break;case"left":case"right":u+=" l "+v*y+" "+-g+" l 0 "+m,h&&(u+=" l "+v*y+" 0"),u+=" l 0 "+m,h&&(u+=" l "+-v*y+" 0"),u+=" l 0 "+m;break;default:throw"Unsupported arrow.orient() = "+a}return u+" z"}return i.x=function(n){return arguments.length?(e=t(n),i):e},i.y=function(e){return arguments.length?(n=t(e),i):n},i.height=function(e){return arguments.length?(o=t(e),i):o},i.width=function(e){return arguments.length?(r=t(e),i):r},i.orient=function(e){return arguments.length?(a=t(e),i):a},i.tail=function(e){return arguments.length?(c=t(e),i):c},i}}},{}],63:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.svg=void 0;var r=t("./arrow"),o=t("../util");n.svg=function(t){return{arrow:(0,r.arrow)((0,o.util)().functor)}}},{"../util":66,"./arrow":62}],64:[function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var c=o?Object.getOwnPropertyDescriptor(t,a):null;c&&(c.get||c.set)?Object.defineProperty(n,a,c):n[a]=t[a]}n.default=t,e&&e.set(t,n);return n}(t("d3")),a=t("./indicator"),c=t("./accessor"),i=t("./svg"),u=t("./plot"),s=t("./scale"),l=t("../build/version");function d(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}e.exports={version:l.version,accessor:(0,c.accessors)(),indicator:(0,a.indicators)(o),plot:(0,u.plot)(o),scale:(0,s.scale)(o),svg:(0,i.svg)(o)}},{"../build/version":1,"./accessor":8,"./indicator":28,"./plot":45,"./scale":60,"./svg":63,d3:"d3"}],65:[function(t,e,n){"use strict";e.exports=function t(e){var n=[],r=e-1;return t.push=function(t){r=++r%e,n.length<e?n.push(t):n[r]=t},t.get=function(t){return n[(r+n.length-t)%n.length]},t.head=function(){return t.get(0)},t.last=function(){return t.get(n.length-1)},t.size=function(){return e},t.samples=function(){return n},t.primed=function(){return n.length===e},t}},{}],66:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.util=void 0;var r,o=(r=t("./circularbuffer"))&&r.__esModule?r:{default:r};function a(t,e,n){for(var r,o=2,a=arguments.length;++o<a;)t[r=arguments[o]]=c(t,e,e[r],n);return t}function c(t,e,n,r){return function(){var o=n.apply(e,arguments);return r&&o===e&&r(),o===e?t:o}}n.util=function(){return{circularbuffer:o.default,rebindCallback:a,rebind:function(t,e){var n=Array.prototype.slice.call(arguments,0);return n.splice(2,0,void 0),a.apply(this,n)},functor:function(t){return"function"==typeof t?t:function(){return t}}}}},{"./circularbuffer":65}]},{},[64])(64)});
//# sourceMappingURL=techan.min.js.map